<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="icon" href="/favicon.png" />
    <link rel="stylesheet" href="/tachyons-4.10.0.min.css" />
    <meta name="theme-color" content="#111111" />
    <meta name="author" content="Brian Mock" />
    <meta
      name="description"
      content="PDXKBC is Portland, Oregon's monthly mechanical keyboard meetup"
    />
    <meta
      name="og:description"
      content="PDXKBC is Portland, Oregon's monthly mechanical keyboard meetup"
    />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@wavebeem" />
    <meta name="twitter:creator" content="@wavebeem" />
    <meta name="og:title" content="Portland Keyboard Club" />
    <meta name="og:image" content="https://pdxkbc.netlify.com/logo.png" />
    <style>
      .gcal-iframe {
        height: 200px;
        width: 100%;
        max-width: 800px;
      }
    </style>
    <title>PDXKBC | Portland Keyboard Club</title>
  </head>
  <body class="sans-serif bg-dark-gray near-white min-vh-100 flex flex-column">
    <h1 class="mv0 ph3 pv4 f1 lh-title b--white-20 bb bw1">
      <div class="mw7 center ph3">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 188.17 180.96"
          style="height: 3rem; fill: currentcolor"
          class="db fl-ns bg-light-red black pa2 br2 mr3-ns mb3 mb0-ns"
        >
          <path
            d="M123,97l-2.89-2.89h-55V181h55l2.89-2.9V141.58l-5-2,5-2.4Zm-14.48,69.5H79.61V138.82l29,12.45h0Zm0-31L79.61,123V108.56h29Z"
          />
          <polygon
            points="188.17 37.65 188.17 0 188.17 0 173.69 0 173.69 0 173.69 28.96 159.21 35.34 144.74 28.96 144.74 0 144.74 0 130.26 0 130.26 37.65 144.74 43.44 130.26 49.23 130.26 57.07 130.26 58.15 130.26 86.87 130.26 86.87 130.26 86.87 144.74 86.87 144.74 86.87 144.74 57.55 159.21 51.17 173.69 57.55 173.69 63.71 173.69 86.87 173.69 86.87 188.17 86.87 188.17 86.87 188.17 86.87 188.17 49.23 173.69 43.44 188.17 37.65"
          />
          <polygon
            points="43.44 57.3 43.44 78.53 43.44 92.52 24.17 101.02 14.48 96.75 14.48 94.09 0 94.09 0 166.48 0 180.96 14.48 180.96 14.48 112.68 43.44 125.34 43.44 163.58 43.44 166.48 43.44 180.96 57.91 180.96 57.91 115.91 57.91 115.53 42.33 108.83 57.91 101.96 57.91 50.92 43.44 57.3"
          />
          <path
            d="M120.15,0h-55V86.87h55L123,84V2.9ZM108.56,72.39H79.61V14.48h29Z"
          />
          <path
            d="M0,0V86.87H14.48v-24L57.92,43.7V2.9L55,0ZM43.44,34.27,14.48,47V14.48h29Z"
          />
          <path
            d="M133.15,94.09,130.26,97v84h57.91V157.79H173.69v8.69h-29V108.56h29v8.69h14.48V94.09ZM130.26,181v-2.9l2.89,2.9Z"
          />
        </svg>
        <a href="/" class="no-underline underline-hover color-inherit"
          >Portland Keyboard Club</a
        >
      </div>
    </h1>
    <main class="center pa3 mw7 f3 lh-copy flex-auto">
      <h2>About</h2>

      <p>
        The <b>Portland Keyboard Club</b> (<i>PDXKBC</i>) is a monthly meetup
        group for people of all ages and skill levels to showcase and discuss
        mechanical keyboards.
      </p>

      <h2>Code of Conduct</h2>

      <p>
        Please read the
        <a href="coc" class="light-red hover-dark-red">Code of Conduct</a>
        before attending.
      </p>

      <h2>When</h2>

      <p>
        Meetups are on the last Saturday of each month, from 6:00&ndash;9:00 PM,
        with a prize giveaway at 7:30 PM. See our
        <a
          class="light-red hover-red"
          href="https://calendar.google.com/calendar?cid=OXQ2NnZtcTY2OW1ia2J0Y2tidDBuOWsxZWtAZ3JvdXAuY2FsZW5kYXIuZ29vZ2xlLmNvbQ"
          >Google Calendar</a
        >
        for more meetup details.
      </p>

      <h2>Next meetup</h2>

      <blockquote id="next-meetup" class="bl bw1 ml0 pl4 b--white-20 i">
        Loading next meetup...
      </blockquote>

      <!-- <iframe
        class="gcal-iframe border-box db bg-white ba br3 b--mid-gray bw2"
        src="https://calendar.google.com/calendar/embed?height=200&amp;wkst=1&amp;bgcolor=%23ffffff&amp;ctz=America%2FLos_Angeles&amp;src=OXQ2NnZtcTY2OW1ia2J0Y2tidDBuOWsxZWtAZ3JvdXAuY2FsZW5kYXIuZ29vZ2xlLmNvbQ&amp;color=%23AD1457&amp;mode=AGENDA&amp;showTabs=0&amp;showCalendars=0&amp;showTz=0&amp;showNav=0&amp;showTitle=0&amp;showPrint=0&amp;showDate=0&amp;title=PDXKBC"
        scrolling="no"
      ></iframe> -->

      <h2>Let's talk</h2>

      <p>
        You can chat with us on
        <a class="light-red hover-red" href="https://discord.gg/bHwjHXh"
          >Discord</a
        >
        or check our
        <a class="light-red hover-red" href="https://reddit.com/r/pdxkbc"
          >Reddit</a
        >
        for meetup info. Our official hashtag is <b>#pdxkbc</b>.
      </p>

      <h2>Organizers</h2>

      <p>
        Please email the organizers if you have questions or concerns.
      </p>

      <ul>
        <li>
          Brian Mock (<a
            class="light-red hover-red"
            href="mailto:brian@mockbrian.com"
            >brian@mockbrian.com</a
          >)
        </li>
        <li>
          Franklin Harding (<a
            class="light-red hover-red"
            href="mailto:franklinharding0.0@gmail.com"
            >franklinharding0.0@gmail.com</a
          >)
        </li>
      </ul>
    </main>
    <footer class="bt b--white-10 bw1 ma0 ph3 pv3 f5a lh-title tc ttu">
      <p class="mw7 ma0 center">
        &copy; 2019
        <a class="light-red hover-red" href="https://mockbrian.com/"
          >Brian Mock</a
        >
      </p>
    </footer>
    <script type="module">
      const root = document.getElementById("next-meetup");
      const html = String.raw;

      async function getMeetup() {
        const calendarID =
          "9t66vmq669mbkbtckbt0n9k1ek@group.calendar.google.com";
        const API_KEY = "AIzaSyCntMy61tYlDNVg8ZhJXhjQqG3RkGzhnSk";
        const date = new Date();
        date.setHours(0, 0, 0, 0);
        const timeMin = date.toISOString();
        date.setMonth(date.getMonth() + 1);
        const timeMax = date.toISOString();
        const params = new URLSearchParams({
          orderBy: "startTime",
          singleEvents: true,
          timeMin,
          timeMax,
          key: API_KEY
        });
        const url = `https://content.googleapis.com/calendar/v3/calendars/${calendarID}/events?${params}`;
        const response = await fetch(url);
        const data = await response.json();
        if (!data.items[0]) {
          throw new Error("failed to load meetup");
        }
        return data.items[0];
      }

      async function main() {
        try {
          showMeetup(await getMeetup());
        } catch (err) {
          console.error(err);
          showError();
        }
      }

      const dateFormatter = Intl.DateTimeFormat(undefined, {
        weekday: "long",
        month: "long",
        day: "numeric",
        year: "numeric"
      });

      function showMeetup(meetup) {
        root.innerHTML = html`
          <span data-slot="summary"></span><br />
          <span data-slot="date"></span><br /><br />
          <span data-slot="location"></span>
        `;
        root.querySelector("[data-slot=summary]").textContent = meetup.summary;
        root.querySelector("[data-slot=location]").textContent = meetup.location;
        root.querySelector(
          "[data-slot=date]"
        ).textContent = dateFormatter.format(new Date(meetup.start.dateTime));
      }

      function showError() {
        root.textContent =
          "Oops, something went wrong loading from Google Calendar.";
      }

      main();
    </script>
  </body>
</html>
